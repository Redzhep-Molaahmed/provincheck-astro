---
import { getEntryBySlug } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const { slug } = Astro.params;
const post = await getEntryBySlug("blog", slug);

if (!post) {
    throw new Error(`Post not found: ${slug}`);
}

// Render the content and extract the Content component
const { Content } = await post.render();
---

<Layout>
    <article class="prose lg:prose-xl mx-auto">
        <h1>{post.data.title}</h1>
        <p class="text-gray-600">
            {new Date(post.data.pubDate).toLocaleDateString()}
        </p>
        <Content />
    </article>
</Layout>
